write: ~~~ process.stdout.write(stack[wort.ind] + ''); ~~~ ;

writep: test.write zap ;

testBooleans:
    "\n### testing booleans" printp
    true printp false printp ;

testNumbers:
    "\n### testing numbers" printp
    1 printp 2.56789 printp 100 printp ;

testStrings:
    "\n### testing strings ###" printp
    "hello, wort!" printp "escape\tsequences!\n" printp ;

testQuotation:
    "\n### testing quotations ###" printp
    [ 1 2 3 4 printp "a string" printp ] printp ;

testPop:
    "\n### testing zap ###" printp
    1 2 printp printp
    3 printp ;

testDup:
    "\n### testing dup ###" printp
    3 dup printp printp ;

testSwap:
    "\n### testing swap ###" printp
    3 print 4 print swap printp printp ;

testCat:
    "\n### testing cat ###" printp
    [1 2] print [3 4] print cat printp;

testCons:
    "\n### testing cons ###" printp
    [1 2] [3] cons printp ;

testUnit:
    "\n### testing unit ###" printp
    3 unit printp ;

testI:
    "\n### testing i ###" printp
    [3 printp] print i ;

testDip:
    "\n### testing dip ###" printp
    5 4 [printp] dip printp ;

testAdd:
    "\n### testing addition ###" printp
    4 test.write "+" test.writep 5 test.write "=" test.writep add print ;

testSub:
    "\n### testing subtraction ###" printp
    4 test.write "-" test.writep 5 test.write "=" test.writep sub print ;

testMul:
    "\n### testing multiplication ###" printp
    4 test.write "*" test.writep 5 test.write "=" test.writep mul print ;

testDiv:
    "\n### testing division ###" printp
    4 test.write "/" test.writep 5 test.write "=" test.writep div print ;

testRem:
    "\n### testing rem ###" printp
    4 test.write "%" test.writep 5 test.write "=" test.writep rem print ;

testInc:
    "\n### testing increment ###" printp
    1 inc printp ;

testDec:
    "\n### testing decrement ###" printp
    2 dec printp ;

testNeg:
    "\n### testing negation ###" printp
    3 neg printp ;

testInlineJs:
    ~~~
    console.log("\n### testing inline js ###");
    console.log("why hello there~ I'm some inline javascript");
    console.log(1+2);
    ~~~ ;

main:
    # test data types
    test.testBooleans
    test.testNumbers
    test.testStrings
    test.testQuotation

    # test Kerby's basic combinators
    test.testPop
    test.testDup
    test.testSwap
    test.testCat
    test.testCons
    test.testUnit
    test.testI
    test.testDip

    # test basic operations
    test.testAdd
    test.testSub
    test.testMul
    test.testDiv
    test.testRem
    test.testInc
    test.testDec
    test.testNeg

    test.testInlineJs ;
